import{k as m,r as s,j as t,B as f,l as j}from"./index-BbW1ohmA.js";import{a as y,q as v,R as C}from"./quill.snow-CEsWv9C7.js";/* empty css                 */const w="https://www.blogging-platform.rinkakuworks.com/backend",S=()=>{const u=m(),o=s.useRef(null),[a,i]=s.useState(""),[r,d]=s.useState(""),[n,c]=s.useState(""),[p,l]=s.useState(null);s.useEffect(()=>{y()},[]);const x=()=>{i(""),d(""),c(""),l(null)},g=s.useMemo(()=>v(o),[o]),h=async()=>{if(!a||!r||!n){l("All fields are required.");return}try{const e=await j.post(`${w}/api/blog`,{title:a,content:r,author:n},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});x(),u("/platform"),console.log("Post created successfully:",e.data)}catch(e){console.error("Error editing post",e),l("Failed to create post. Please try again.")}};return t.jsxs("div",{style:{maxWidth:"800px",margin:"50px auto"},children:[t.jsx("h3",{children:"Create New Post"}),p&&t.jsx("div",{style:{color:"red",marginBottom:"10px"},children:p}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{children:"TItle:"}),t.jsx("input",{type:"text",value:a,onChange:e=>i(e.target.value),style:{width:"100%",padding:"10px",fontSize:"18px",marginTop:"5px"}})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{children:"Content:"}),t.jsx(C,{ref:o,value:r,onChange:d,style:{height:"300px"},modules:g})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Author:"}),t.jsx("input",{type:"text",value:n,onChange:e=>c(e.target.value),style:{width:"100%",padding:"10px",fontSize:"18px",marginTop:"50px"}})]}),t.jsx(f,{onClick:h,style:{margin:"50px 20px",padding:"10px 20px"},children:"Create Post"})]})};export{S as default};
