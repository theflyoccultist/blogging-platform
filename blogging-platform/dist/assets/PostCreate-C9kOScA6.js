import{k as g,r as s,j as e,B as f,l as j,m as y}from"./index-DZBjWbXW.js";import{a as v,q as C,R as w}from"./quill.snow-Bm-oGPbc.js";/* empty css                 */const k="https://www.blogging-platform.rinkakuworks.com/backend",P=()=>{const p=g(),o=s.useRef(null),[a,i]=s.useState(""),[r,d]=s.useState(""),[n,u]=s.useState(""),[c,l]=s.useState(null);s.useEffect(()=>{v()},[]);const x=()=>{i(""),d(""),u(""),l(null)},h=s.useMemo(()=>C(o),[o]),m=async()=>{if(!a||!r||!n){l("All fields are required.");return}try{const t=await j.post(`${k}/api/blog`,{title:a,content:r,author:n},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});await y(),x(),p("/platform"),console.log("Post created successfully:",t.data)}catch(t){console.error("Error editing post",t),l("Failed to create post. Please try again.")}};return e.jsxs("div",{style:{maxWidth:"800px",margin:"50px auto"},children:[e.jsx("h3",{children:"Create New Post"}),c&&e.jsx("div",{style:{color:"red",marginBottom:"10px"},children:c}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{children:"TItle:"}),e.jsx("input",{type:"text",value:a,onChange:t=>i(t.target.value),style:{width:"100%",padding:"10px",fontSize:"18px",marginTop:"5px"}})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{children:"Content:"}),e.jsx(w,{ref:o,value:r,onChange:d,style:{height:"300px"},modules:h})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Author:"}),e.jsx("input",{type:"text",value:n,onChange:t=>u(t.target.value),style:{width:"100%",padding:"10px",fontSize:"18px",marginTop:"50px"}})]}),e.jsx(f,{onClick:m,style:{margin:"50px 20px",padding:"10px 20px"},children:"Create Post"})]})};export{P as default};
